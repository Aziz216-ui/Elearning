<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="apple-touch-icon" sizes="76x76" href="{{ asset('admin/img/apple-icon.png') }}" />
    <link rel="icon" type="image/png" href="{{ asset('admin/img/favicon.png') }}" />

    <title>{% block title %}Dashboard{% endblock %}</title>

    <!-- Fonts and icons -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>

    <!-- Nucleo Icons -->
    <link href="{{ asset('admin/css/nucleo-icons.css') }}" rel="stylesheet" />
    <link href="{{ asset('admin/css/nucleo-svg.css') }}" rel="stylesheet" />

    <!-- Main Styling -->
    <link href="{{ asset('admin/css/argon-dashboard-tailwind.css?v=1.0.1') }}" rel="stylesheet" />


  </head>

  <body class="m-0 font-sans text-base antialiased font-normal dark:bg-slate-900 leading-default bg-gray-50 text-slate-500 overflow-x-hidden">
    <div class="absolute w-full bg-blue-500 dark:hidden min-h-75 -z-10"></div>

    <!-- ====== Sidebar (Floating / Off-canvas) ====== -->
    <aside id="sidebar" class="fixed top-16 bottom-0 left-0 block w-64 p-0 overflow-y-auto antialiased bg-white border-0 shadow-xl dark:shadow-none dark:bg-slate-850 z-40 transform -translate-x-full lg:translate-x-0 transition-transform duration-200 ease-in-out" aria-expanded="true">
      <div class="h-19">
        <a class="block px-8 py-6 text-sm whitespace-nowrap dark:text-white text-slate-700" href="#">
          <img src="{{ asset('admin/img/logo-ct-dark.png') }}" class="inline h-8 dark:hidden" alt="main_logo" />
          <img src="{{ asset('admin/img/logo-ct.png') }}" class="hidden h-8 dark:inline" alt="main_logo" />
          <span class="ml-1 font-semibold">Argon Dashboard</span>
        </a>
      </div>

      <hr class="h-px mt-0 bg-transparent bg-gradient-to-r from-transparent via-black/40 to-transparent" />

      <div class="overflow-auto grow">
        <ul class="flex flex-col pl-0 mb-0">
          <li class="mt-0.5">
            <a href="dashboard" class="flex items-center px-4 py-2 text-slate-700 dark:text-white">
              <i class="ni ni-tv-2 text-blue-500 mr-2"></i> Dashboard
            </a>
          </li>
          <li class="mt-0.5">
            <a href="#" class="flex items-center px-4 py-2 text-slate-700 dark:text-white">
              <i class="ni ni-calendar-grid-58 text-orange-500 mr-2"></i> Tables
            </a>
          </li>
          <li class="mt-0.5">
            <a href="#" class="flex items-center px-4 py-2 text-slate-700 dark:text-white">
              <i class="ni ni-single-02 text-emerald-500 mr-2"></i> Users
            </a>
          </li>
        </ul>
      </div>
    </aside>
    <!-- Overlay for mobile sidebar -->
    <div id="sidebarOverlay" class="fixed inset-0 bg-black/50 z-30 hidden lg:hidden"></div>
    <!-- ====== End Sidebar ====== -->

    <!-- ====== Main Content ====== -->
    <div class="relative min-h-screen flex flex-col pt-16 lg:ml-64">
      <!-- Navbar -->
      <nav class="w-full px-6 py-3 bg-white border-b border-gray-200 shadow-sm dark:bg-slate-850 dark:border-slate-800 fixed top-0 left-0 right-0 z-50">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <!-- Mobile sidebar toggle -->
            <button id="sidebarToggle" class="lg:hidden p-2 rounded-md text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 focus:outline-none" aria-label="Toggle sidebar">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" />
              </svg>
            </button>
            <img src="{{ asset('admin/img/logo-ct.png') }}" alt="Logo" class="h-8 w-8" />
            <span class="text-slate-700 dark:text-white font-semibold">Dashboard</span>
          </div>
          {% set currentRoute = app.request.attributes.get('_route') %}
          {% set isCourses = currentRoute is defined and currentRoute starts with 'app_cours' %}
          <div class="flex items-center space-x-4">
            <a href="#" class="text-slate-600 dark:text-slate-200 text-sm">Home</a>
            <a href="{{ path('app_cours_index') }}"
               class="text-sm {{ isCourses ? 'text-blue-600 dark:text-blue-400 font-semibold' : 'text-slate-600 dark:text-slate-200' }}">
              Courses
            </a>
            <a href="#" class="text-slate-600 dark:text-slate-200 text-sm">Profile</a>
            <a href="#" class="text-slate-600 dark:text-slate-200 text-sm">Logout</a>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->

      <!-- Main content -->

<main id="main" class="w-full px-6 py-8">
  <div class="w-full max-w-5xl mx-auto">
   {% block body %}


    {% endblock %}
  </div>
</main>


      <!-- Footer -->
      <footer class="pt-4 mt-auto">
        <div class="w-full px-6 mx-auto text-center text-sm text-slate-500">
          Â© {{ "now"|date("Y") }}, made with <i class="fa fa-heart text-red-500"></i> by
          <a href="https://www.creative-tim.com" class="font-semibold text-slate-700 dark:text-white" target="_blank">Creative Tim</a>
        </div>
      </footer>
      <!-- End Footer -->
    </div>

    <!-- ====== Scripts ====== -->
    <script src="{{ asset('admin/js/plugins/chartjs.min.js') }}"></script>
    <script src="{{ asset('admin/js/plugins/perfect-scrollbar.min.js') }}"></script>
    <script src="{{ asset('admin/js/argon-dashboard-tailwind.js?v=1.0.1') }}"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('sidebarOverlay');
        const toggle = document.getElementById('sidebarToggle');

        const openSidebar = () => {
          if (!sidebar) return;
          sidebar.classList.remove('-translate-x-full');
          if (overlay) overlay.classList.remove('hidden');
          document.body.classList.add('overflow-hidden');
        };

        const closeSidebar = () => {
          if (!sidebar) return;
          sidebar.classList.add('-translate-x-full');
          if (overlay) overlay.classList.add('hidden');
          document.body.classList.remove('overflow-hidden');
        };

        toggle && toggle.addEventListener('click', function () {
          const isHidden = sidebar.classList.contains('-translate-x-full');
          if (isHidden) openSidebar(); else closeSidebar();
        });

        overlay && overlay.addEventListener('click', closeSidebar);

        window.addEventListener('keydown', function (e) {
          if (e.key === 'Escape') closeSidebar();
        });

        // Reset state on resize: show sidebar on lg+, hide overlay/body lock
        const mq = window.matchMedia('(min-width: 1024px)');
        const handleResize = () => {
          if (mq.matches) {
            // Large screens: ensure sidebar is visible and overlay/body unlocked
            sidebar && sidebar.classList.remove('-translate-x-full');
            overlay && overlay.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
          } else {
            // Small screens: keep sidebar hidden by default
            sidebar && sidebar.classList.add('-translate-x-full');
            overlay && overlay.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
          }
        };
        handleResize();
        mq.addEventListener ? mq.addEventListener('change', handleResize) : window.addEventListener('resize', handleResize);
      });
    </script>

    {% block javascripts %}{% endblock %}
  </body>
</html>
