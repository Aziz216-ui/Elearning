{% extends 'base1.html.twig' %}

{% block title %}Modifier l'utilisateur #{{ user.id }}{% endblock %}
{% block page_title %}Modifier l'utilisateur #{{ user.id }}{% endblock %}

{% block body %}
<div class="w-full">
    <div class="flex flex-wrap -mx-3">
        <div class="w-full max-w-4xl px-3 mx-auto">
            <div class="relative flex flex-col min-w-0 break-words bg-white border-0 shadow-xl dark:bg-slate-850 dark:shadow-dark-xl rounded-2xl bg-clip-border">

                <div class="flex items-center justify-between p-6 pb-0 border-b-0 rounded-t-2xl">
                    <h6 class="text-lg font-bold dark:text-white">
                        Modifier l'utilisateur #{{ user.id }} – {{ user.email }}
                    </h6>
                    <a href="{{ path('admin_user_index') }}"
                       class="inline-flex items-center px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded hover:bg-blue-700 transition">
                        Retour
                    </a>
                </div>

                <div class="flex-auto p-8">
                    {{ form_start(form, {attr: {novalidate: 'novalidate', class: 'space-y-6'}}) }}

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

                        <div class="space-y-6">
                            {{ form_row(form.email, {label: 'Adresse email', label_attr: {class: 'block mb-2 text-sm font-bold text-slate-700 dark:text-white'}, attr: {class: 'w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none dark:bg-slate-800'}}) }}

                            {{ form_row(form.name, {label: 'Nom de famille', label_attr: {class: 'block mb-2 text-sm font-bold text-slate-700 dark:text-white'}, attr: {class: 'w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none dark:bg-slate-800'}}) }}

                            {{ form_row(form.lastname, {label: 'Prénom', label_attr: {class: 'block mb-2 text-sm font-bold text-slate-700 dark:text-white'}, attr: {class: 'w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none dark:bg-slate-800'}}) }}
                        </div>

                        <div class="space-y-6">
                            {{ form_row(form.birthdate, {label: 'Date de naissance', label_attr: {class: 'block mb-2 text-sm font-bold text-slate-700 dark:text-white'}, attr: {class: 'w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none dark:bg-slate-800'}}) }}

                            <div>
                                {{ form_label(form.plainPassword, 'Nouveau mot de passe', {label_attr: {class: 'block mb-2 text-sm font-bold text-slate-700 dark:text-white'}}) }}
                                <p class="text-xs text-slate-500 mb-2">Laisser vide pour conserver l'actuel</p>
                                {{ form_widget(form.plainPassword, {attr: {class: 'w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none dark:bg-slate-800'}}) }}
                                {{ form_errors(form.plainPassword) }}
                            </div>

                            {{ form_row(form.roles, {label: 'Rôle', label_attr: {class: 'block mb-2 text-sm font-bold text-slate-700 dark:text-white'}, attr: {class: 'w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-500 focus:outline-none dark:bg-slate-800'}}) }}
                        </div>
                    </div>

                    <div class="flex justify-end gap-4 mt-10 pt-6 border-t border-gray-200">
                        <button type="submit"
                               class="inline-flex items-center px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded hover:bg-blue-700 transition">
                            Enregistrer les modifications
                        </button>
                        <a href="{{ path('admin_user_index') }}"
                           class="inline-flex items-center px-4 py-2 text-sm font-semibold text-slate-600 hover:text-slate-800 transition">
                            Annuler
                        </a>
                    </div>

                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}